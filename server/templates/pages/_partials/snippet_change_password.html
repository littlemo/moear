{% load i18n %}

<h4 class="my-4">{% trans "Change Password" %}</h4>

<div class="row ml-1">
<form method="POST" action="{% url 'account_change_password' %}" class="password_change">
  {% csrf_token %}
  {% if form.non_field_errors %}
  <div class="alert alert-danger" role="alert">
    {% for error in form.non_field_errors %}
    {{ error }} <br>
    {% endfor %}
  </div>
  {% endif %}
  <div class="form-group my-1 form-inline">
    <input type="password" name="oldpassword" class="form-control" id="id_oldpassword" placeholder="{% trans 'Current Password' %}" required>
    {% if form.oldpassword.errors %}
    <span class="text-danger mx-2">
    {% for error in form.oldpassword.errors %}
    {{ error }} <br>
    {% endfor %}
    </span>
    {% endif %}
  </div>
  <div class="form-group my-1 form-inline">
    <input type="password" class="form-control" id="id_password1" name="password1" placeholder="{% trans 'New Password' %}" required>
    {% if form.password1.errors %}
    <span class="text-danger mx-2">
    {% for error in form.password1.errors %}
    {{ error }} <br>
    {% endfor %}
    </span>
    {% endif %}
  </div>
  <div class="form-group my-1 form-inline">
    <input type="password" class="form-control" id="id_password2" name="password2" placeholder="{% trans 'New Password (again)' %}" required>
    {% if form.password2.errors %}
    <span class="text-danger mx-2">
    {% for error in form.password2.errors %}
    {{ error }} <br>
    {% endfor %}
    </span>
    {% endif %}
  </div>
  <div class="form-group my-2">
    <button type="submit" class="btn btn-primary">{% trans "Change Password" %}</button>
  </div>
</form>
</div>
